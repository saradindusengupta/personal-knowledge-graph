# Docker Compose override for Development
# Usage: docker-compose -f docker-compose.yml -f docker-compose.dev.yml up -d

services:
  neo4j:
    # Use community edition for development
    image: neo4j:latest
    
    environment:
      # Development-specific settings
      - NEO4J_dbms_logs_debug_level=DEBUG
      - NEO4J_dbms_logs_query_enabled=VERBOSE
      - NEO4J_dbms_logs_query_threshold=1s
      - NEO4J_dbms_logs_query_parameter__logging__enabled=true
      - NEO4J_ACCEPT_LICENSE_AGREEMENT=yes
    
    # Lower resource limits for development
    deploy:
      resources:
        limits:
          cpus: '2'
          memory: 2G
        reservations:
          cpus: '1'
          memory: 1G
    
    # Mount local code for live development
    volumes:
      - neo4j_data:/data
      - neo4j_logs:/logs
      - neo4j_import:/import
      - ./src:/app/src:ro
      - ./notebooks:/notebooks:ro
